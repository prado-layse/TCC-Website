<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tela Inicial - CSB</title>
  <!-- Link para os arquivos CSS -->
  <link rel="stylesheet" href="/backend/public/css/inicial.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.1.3/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Muli:wght@300;400;600&display=swap">
</head>
<body>
  <!-- Cabeçalho com Logo e Navegação -->
  <header>
    <div class="logo">
      <img src="/backend/public/imagens/cbs.png" alt="Logo CSB">
    </div>
    <nav>
      {{#if isUsuarioLogado}}
        <a href="/api/usuarios/perfil">Perfil</a>
        <a href="/api/usuarios/perfil">Sair da conta</a>
        <a href="/api/institucional" class="other">Institucional</a>
        <a href="/api/selecao" class="other">Seleção</a>
        <a href="/api/clubes" class="other">Clubes</a>
      {{else}}
        <a href="/api/institucional" class="other">Institucional</a>
        <a href="/api/selecao" class="other">Seleção</a>
        <a href="/api/clubes" class="other">Clubes</a>
        <a href="/api/usuarios/cadastrar" class="register">Cadastrar</a>
        <a href="/api/usuarios/login" class="login">Entrar</a>        
      {{/if}}
    </nav>
    <button id="toggle-header">☰</button>
  </header>

  <!-- Destaque Principal -->
  <section class="highlight">
    <div class="highlight-logo"> 
      <img src="/backend/public/imagens/cbs.png" alt="Logo CSB">
    </div>
    <div class="highlight-image">
      <img src="/backend/public/imagens/destaque.jpg" alt="Imagem Destaque">
    </div>
    <div class="highlight-content">
      {{#if isAdmin}}
        <!-- Conteúdo editável para o user-admin -->
        <div class="editable-title editable" contenteditable="false" id="titulo-editavel">
          Título da notícia em destaque.
        </div>
        <div class="editable-subtitle editable" contenteditable="false" id="subtitulo-editavel">
          Subtítulo da notícia.
        </div>
        <button class="highlight-button" id="botao-editar" onclick="alternarEdicao()" style="visibility:visible">Editar</button>
        <button class="highlight-button" id="botao-cancelar" onclick="cancelarEdicao()" style="display: none;">Cancelar</button>
        <button class="highlight-button" id="botao-salvar" onclick="salvarTexto()" style="display: none;">Salvar</button>
      {{else}}
        <div class="editable-title" contenteditable="false" id="titulo-editavel">
          Título da notícia em destaque.
        </div>
        <div class="editable-subtitle" contenteditable="false" id="subtitulo-editavel">
          Subtítulo da notícia.
        </div>
        <button class="highlight-button" id="botao-editar" onclick="alternarEdicao()" style="visibility:hidden">Editar</button>
      {{/if}} 
    </div>
  </section>

  <!-- Container de Destaque dos Proximos Eventos -->
  <div class="calendar-container">
    <!-- Próximos Eventos -->
    <section class="calendar">
      <h2>PRÓXIMOS EVENTOS</h2>
      <div class="calendar-events">
        <div class="event">
          <div class="event-color blue"></div>
          <div class="event-date">
            <strong>24 - 28</strong>
            <span>AGO</span>
          </div>
          <div class="event-info">
            <p class="event-name">Treino Aberto</p>
            <p class="event-location">Local: Petrópolis, RJ</p>
          </div>
          <div class="event-arrow">➤</div>
        </div>
        <div class="event">
          <div class="event-color yellow"></div>
          <div class="event-date">
            <strong>06 - 22</strong>
            <span>SET</span>
          </div>
          <div class="event-info">
            <p class="event-name">World Skate Games 2024</p>
            <p class="event-location">Local: Novara, Itália</p>
          </div>
          <div class="event-arrow">➤</div>
        </div>
        <div class="event">
          <div class="event-color green"></div>
          <div class="event-date">
            <strong>22 - 26</strong>
            <span>OUT</span>
          </div>
          <div class="event-info">
            <p class="event-name">Campeonato Brasileiro</p>
            <p class="event-location">Local: Teresópolis, RJ</p>
          </div>
          <div class="event-arrow">➤</div>
        </div>
      </div>
    </section>
    <!-- Highlights -->
    <section class="calendar-highlight">
      <h3>4ª edição do Word Skate Games</h3>
      <div class="calendar-highlight-content">
        <p>
          Um evento único: o campeonato mundial de 12 esportes em 9 cidades italianas, de 6 a 22 de setembro, levará para a Itália o espetáculo dos esportes de patins no coração das ruas urbanas.
        </p>
      </div>
      <button class="highlight-button">Onde acompanhar</button>
    </section>
  </div>

  <!-- Próximos Jogos -->
  <section class="next-games">
    <ul>
      <li>
        <div class="game-info">
          <strong>Grupo A - Sênior Feminino</strong><br>
          <em>Local: Novara, Piemont</em><br>
          <span>16/09 - AO VIVO NO YOUTUBE</span>
        </div>
        <div class="game-teams">
          <div class="team">
            <img src="/backend/public/imagens/brasil.png" alt="Brasil" class="flag">
            <span>Brasil</span>
          </div>
          <span class="vs">X</span>
            <div class="team">
              <img src="/backend/public/imagens/india.png" alt="India" class="flag">
              <span>Itália</span>
            </div>
        </div>
        <div class="game-action">
          <button class="game-button">Estreia</button>
        </div>
      </li>
    </ul>
  </section>

  <!-- Rodapé -->
  <footer>
    <div>
      <img src="/images/csb_logo.png" alt="Logo CSB" width="80">
    </div>
    <nav>
      <a href="#">Sobre nós</a>
      <a href="#">Política de Privacidade</a>
      <a href="#">Termos de Uso</a>
      <a href="#">FAQ</a>
    </nav>
    <div>
      <span>Afiliado a:</span>
      <img src="/images/world_skate_logo.png" alt="Logo World Skate" width="50">
      <img src="/images/csp_logo.png" alt="Logo CSP" width="50">
    </div>
    <div>
      <a href="#"><img src="/images/facebook_icon.png" alt="Facebook" width="20"></a>
      <a href="#"><img src="/images/instagram_icon.png" alt="Instagram" width="20"></a>
      <a href="#"><img src="/images/twitter_icon.png" alt="Twitter" width="20"></a>
    </div>
  </footer>

  <script>
    // Botão para esconder o cabeçalho
    document.addEventListener('DOMContentLoaded', function() {
      var header = document.querySelector('header');
      var toggleButton = document.getElementById('toggle-header');

      toggleButton.addEventListener('click', function() {
        header.classList.toggle('hidden');
        toggleButton.classList.toggle('rotated');
      });
    });

    // Funções para alterar o destaque
    let tituloOriginal = '';
    let subtituloOriginal = '';

    function alternarEdicao() {
      const titulo = document.getElementById('titulo-editavel');
      const subtitulo = document.getElementById('subtitulo-editavel');
      const botaoEditar = document.getElementById('botao-editar');  
      const botaoSalvar = document.getElementById('botao-salvar');  
      const botaoCancelar = document.getElementById('botao-cancelar');
      
      tituloOriginal = titulo.textContent;
      subtituloOriginal = subtitulo.textContent;

      if (titulo.contentEditable === 'false') {
        titulo.contentEditable = 'true';
        titulo.focus();
        botaoEditar.style.display = 'none';
        botaoSalvar.style.display = 'inline';
        botaoCancelar.style.display = 'inline';
      }

      if (subtitulo.contentEditable === 'false') {
        subtitulo.contentEditable = 'true';
        subtitulo.focus();
        botaoEditar.style.display = 'none';
        botaoSalvar.style.display = 'inline';
        botaoCancelar.style.display = 'inline';
      }
    }

    function salvarTexto() {
      const titulo = document.getElementById('titulo-editavel');
      const subtitulo = document.getElementById('subtitulo-editavel');
      const botaoEditar = document.getElementById('botao-editar');  
      const botaoSalvar = document.getElementById('botao-salvar');  
      const botaoCancelar = document.getElementById('botao-cancelar');
      
      localStorage.setItem('tituloEditavel', titulo.textContent);
      localStorage.setItem('subtituloEditavel', subtitulo.textContent);
      alert('Texto salvo com sucesso!');
      
      titulo.contentEditable = 'false';
      subtitulo.contentEditable = 'false';
      botaoEditar.style.display = 'inline';
      botaoSalvar.style.display = 'none';
      botaoCancelar.style.display = 'none';
    }

    function cancelarEdicao() {
      const titulo = document.getElementById('titulo-editavel');
      const subtitulo = document.getElementById('subtitulo-editavel');
      const botaoEditar = document.getElementById('botao-editar');  
      const botaoSalvar = document.getElementById('botao-salvar');  
      const botaoCancelar = document.getElementById('botao-cancelar');
      
      titulo.textContent = tituloOriginal;
      subtitulo.textContent = subtituloOriginal;  

      titulo.contentEditable = 'false';
      subtitulo.contentEditable = 'false';  
      botaoEditar.style.display = 'inline';
      botaoSalvar.style.display = 'none';
      botaoCancelar.style.display = 'none';
    }

    function carregarTexto() {
      const tituloSalvo = localStorage.getItem('tituloEditavel');
      const subtituloSalvo = localStorage.getItem('subtituloEditavel'); 
      if (tituloSalvo) {
        document.querySelector('.editable-title').innerText = tituloSalvo;
      }
      if (subtituloSalvo) {
        document.querySelector('.editable-subtitle').innerText = subtituloSalvo;
      }
    }
    window.onload = carregarTexto;
  </script>

</body>
</html>
